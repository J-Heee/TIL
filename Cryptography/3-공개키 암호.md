# Chapter 3. κ³µκ°ν‚¤ μ•”νΈ

## 2020.10.10

#### κ³µκ°ν‚¤ μ•”νΈ λ“±μ¥ λ°°κ²½
- **λ€μΉ­ν‚¤ μ•”νΈλ” ν‚¤ λ¶„λ°° λ¬Έμ (Key distribution problem)** κ°€ μμ
- ν‚¤ λ¶„λ°° λ¬Έμ  : λ€μΉ­ν‚¤ μ•”νΈλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μ†΅μ‹ μμ™€ μμ‹ μκ°€ μ‚¬μ „μ— λΉ„λ°€ν‚¤λ¥Ό κ³µμ ν•΄μ•Ό ν•λ” λ¬Έμ 
  - μ•μ „ν•κ² ν‚¤λ¥Ό κ³µμ ν•κΈ° μ–΄λ ¤μ›€
  - ν†µμ‹ μ„ ν•κ³ μ ν•λ” μ „μ²΄ μ‚¬μ©μ μλ§νΌ ν‚¤λ¥Ό κ³µμ ν•΄μ•Ό ν•¨
  - ex) nλ…μ΄ μ„λ΅ ν‚¤λ¥Ό κ³µμ ν•κΈ° μ„ν•΄μ„λ” μ΄ n(n-1)/2κ°μ ν‚¤κ°€ ν•„μ”ν•¨
- μΈν„°λ„·μƒμ—μ„λ” ν•λ‚μ λ„¤νΈμ›ν¬μ— ν†µμ‹ μ„ ν•λ” μλ§μ€ μ‚¬λλ“¤μ΄ μλ”λ°, λ¨λ‘κ°€ λ€μΉ­ν‚¤λ¥Ό μ΄μ©ν•΄ ν‚¤λ¥Ό κ΄€λ¦¬ν•λ” κ²ƒμ€ λ¶κ°€λ¥μ— κ°€κΉμ›€
- κ³µκ°ν‚¤ μ•”νΈμ λ“±μ¥


### 3-1. κ³µκ°ν‚¤ μ•”νΈ(Asymmetric cryptography)
- κ³µκ°ν‚¤ μ•”νΈμ‹μ¤ν… : μ•”νΈ λ°©μ‹ μ¤‘ **μ•”νΈν™”μ™€ λ³µνΈν™” κ³Όμ •μ—μ„ μ„λ΅ λ‹¤λ¥Έ ν‚¤λ¥Ό μ‚¬μ©**ν•λ” λΉ„λ€μΉ­ λ°©μ‹
- λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›λ” λ‘ μ‚¬μ©μ(Aμ™€ B)κ°€ **κ°μ μμ‹ μ ν‚¤ μ(κ³µκ°ν‚¤, κ°μΈν‚¤)μ„ κ°€μ§€κ³  μλ”** κµ¬μ΅°
- **κ³µκ°ν‚¤(public key)** : ν΄λΌμ°λ“μ™€ κ°™μ€ κ³µκ°λ κ²μ‹νμ— μ¬λΌκ°€ κ³µκ°λμ–΄ μλ” ν‚¤
- **κ°μΈν‚¤(private key)** : μμ‹ λ§ μ• μ μκ² κΈκ³ μ™€ κ°™μ€ κ³³μ— κ°μΈμ΄ μ•μ „ν•κ² μ €μ¥ν• ν‚¤
- Aκ°€ Bμ—κ² μ•”νΈλ¬Έμ„ λ³΄λ‚΄κ³  μ‹¶λ‹¤λ©΄?
  - Aλ” Bμ κ³µκ°ν‚¤λ¥Ό κ³µκ°λ κ²μ‹νμ—μ„ μ–»μ–΄μ™€μ„ κ·Έ κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ¥Ό μν–‰ν•μ—¬ μ•”νΈλ¬Έ μƒμ„±
  - μ΄ μ•”νΈλ¬Έμ€ κ³µκ°ν‚¤μ™€ λ€μ‘λλ” κ°μΈν‚¤λ¥Ό κ°€μ§„ Bλ§μ΄ λ³µνΈν™”ν•΄μ„ ν’€μ–΄λ³Ό μ μμ


#### λ€μΉ­ν‚¤ μ•”νΈμ™€ κ³µκ°ν‚¤ μ•”νΈ λΉ„κµ
||λ€μΉ­ν‚¤ μ•”νΈ|κ³µκ°ν‚¤ μ•”νΈ|
|---|:---:|:---:|
|λΉ„λ°€ν‚¤ λ¶„λ°°|ν•„μ”|λ¶ν•„μ”|
|λ³΄μ  λΉ„λ°€ν‚¤ κ°μ<br>(nλ…μ΄ λΉ„λ°€ν†µμ‹ )|(n - 1)κ°<br>μƒλ€λ°©λ³„λ΅ ν‚¤κ°€ ν•„μ”|1κ°<br>μμ‹ μ κ°μΈν‚¤λ§ λ³΄μ |
|ν‚¤ λ³΄κ΄€ ν•νƒ|λΉ„λ°€λ¦¬μ— λ³΄κ΄€|κ°μΈν‚¤λ” λΉ„λ°€λ¦¬μ— λ³΄κ΄€, κ³µκ°ν‚¤λ” λ°°ν¬(κ³µκ°)|
|ν‚¤ κΈΈμ΄|μ§§λ‹¤<br>(μ£Όλ΅ 128λΉ„νΈ, 256λΉ„νΈ)|κΈΈλ‹¤<br>(μ£Όλ΅ 1024λΉ„νΈ, 2048λΉ„νΈ)|
|μ•”νΈν™”/λ³µνΈν™” μ†λ„|λΉ λ¥΄λ‹¤|λλ¦¬λ‹¤|
|λ¶€μΈλ°©μ§€|λ¶κ°€λ¥|κ°€λ¥|
|λ€ν‘ μ•κ³ λ¦¬μ¦|DES, AES, SEED, ARIA|RSA, ElGamal, DH, ECDSA|


#### ν•μ΄λΈλ¦¬λ“ μ•”νΈμ‹μ¤ν… (Hybrid cryptosystem)
- μ‹¤μ  μ°λ¦¬κ°€ μ‚¬μ©ν•λ” μΈν„°λ„· ν™κ²½μ—μ„ μ‚¬μ©
- **λ€μΉ­ν‚¤ μ•”νΈ + κ³µκ°ν‚¤ μ•”νΈ** κ°κ°μ μ¥μ μ„ μ‚΄λ ¤μ„ ν•¨κ» μ‚¬μ©
- λ€μΉ­ν‚¤ μ•”νΈ : λ€μ©λ‰μ λ°μ΄ν„° μ•”νΈν™” (λΉ λ¥Έ μ†λ„)
- κ³µκ°ν‚¤ μ•”νΈ : λ€μΉ­ν‚¤ μ•”νΈμ λΉ„λ°€ν‚¤λ¥Ό μ•”νΈν™” (ν‚¤ λ¶„λ°° λ¬Έμ  ν•΄κ²°)
  1. μ „μ†΅ν•κ³ μ ν•λ” **λ°μ΄ν„°λ¥Ό** λ€μΉ­ν‚¤ μ•”νΈμ— μ‚¬μ©λλ” **λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”**ν•μ—¬ λ€μΉ­ν‚¤ μ•”νΈλ¬Έ μƒμ„±
  2. 1λ²μ—μ„ μ‚¬μ©ν•, λ°μ΄ν„°μ— λΉ„ν•λ©΄ μƒλ€μ μΌλ΅ λ§¤μ° μ‘μ€ ν¬κΈ°μ **λΉ„λ°€ν‚¤λ¥Ό μμ‹ μμ κ³µκ°ν‚¤λ΅ μ•”νΈν™”**ν•μ—¬ κ³µκ°ν‚¤ μ•”νΈλ¬Έ μƒμ„±
  3. μƒμ„±λ λ€μΉ­ν‚¤ μ•”νΈλ¬Έκ³Ό κ³µκ°ν‚¤ μ•”νΈλ¬Έ λ‘ κ°λ¥Ό ν•¨κ» μ „μ†΅
  4. μμ‹ μκ°€ κ³µκ°ν‚¤ μ•”νΈμ—μ„ μ‚¬μ©λλ” **κ°μΈν‚¤λ¥Ό μ΄μ©ν•μ—¬ κ³µκ°ν‚¤ μ•”νΈλ¬Έμ„ λ³µνΈν™”**
  5. λ€μΉ­ν‚¤ μ•”νΈλ¬Έμ— μ‚¬μ©λμ—λ λΉ„λ°€ν‚¤κ°€ λ©”μ‹μ§€λ΅ ν€μ–΄λ‚μ΄
  6. κ·Έ **λΉ„λ°€ν‚¤λ¥Ό μ΄μ©ν•μ—¬ λ€μΉ­ν‚¤ μ•”νΈλ¬Έμ„ λ³µνΈν™”** ν•λ©΄ μµμΆ…μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ–»μ„ μ μμ


#### μ„¤κ³„ μ›λ¦¬ (κΈ°λ³Έ κ°λ…)
#### μΌλ°©ν–¥ ν•¨μ (Oneβ€way function)
- ν•¨μ : π‘¦ = π‘“(π‘¥)
  - π‘¥: input, π‘“: name of function, π‘¦: output
- μΌλ°©ν–¥ ν•¨μ : **π‘¥λ¥Ό κ°€μ§€κ³  π‘“(π‘¥)λ¥Ό κ³„μ‚°ν•λ” κ²ƒμ€ β€μ‰¬μ΄β€™ λ°λ©΄μ—, π‘¦λ¥Ό κ°€μ§€κ³  π‘¥λ¥Ό κµ¬ν•λ” κ²ƒμ€ β€μ–΄λ ¤μ΄β€™ ν•¨μ π‘“**
  - ex) ν° μμ μ†μΈμλ¶„ν•΄
  - λ©”μ‹μ§€λ¥Ό κ°€μ§€κ³  μ•”νΈλ¬Έμ„ λ§λ“λ” κ²ƒμ€ μ‰¬μ΄ λ°λ©΄, μ•”νΈλ¬Έμ„ ν†µν•΄μ„ λ©”μ‹μ§€λ¥Ό μ–»μ–΄λ‚΄λ” κ²ƒμ€ μ–΄λ ¤μ΄ ν•νƒ
- κ³µκ°ν‚¤ κ°λ…μ„ μ μ©ν•λ ¤λ©΄ λ¨λ‘μ—κ² μ–΄λ ¤μ°λ©΄ μ•„λ¬΄λ„ λ³µνΈν™” ν•  μ μ—†μΌλ―€λ΅, κ°μΈν‚¤λ¥Ό κ°€μ§€κ³  μλ” μ‚¬λμ€ μ‰½κ² λ©”μ‹μ§€λ¥Ό μ–»μ–΄λ³Ό μ μλ„λ΅ ν•λ” κ²ƒμ΄ μ¶”κ°€λμ–΄μ•Ό ν•¨ -> νΈλ©λ„μ–΄ μΌλ°©ν–¥ ν•¨μ


#### νΈλ©λ„μ–΄ μΌλ°©ν–¥ ν•¨μ (Trapdoor oneβ€way function)
- π‘¥λ¥Ό κ°€μ§€κ³  π‘“(π‘¥)λ¥Ό κ³„μ‚°ν•λ” κ²ƒμ€ β€μ‰½κ³ β€™, π‘¦λ¥Ό κ°€μ§€κ³  π‘¥λ¥Ό κµ¬ν•λ” κ²ƒμ€ β€μ–΄λ ¤μ΄β€™ λ°λ©΄μ—, **μ–΄λ–¤ μ •λ³΄(νΈλ©λ„μ–΄) π’•κ°€ μ£Όμ–΄μ§€λ©΄ μ‰½κ² μ—­ν•¨μλ¥Ό κ³„μ‚°**ν•μ—¬ π‘¥ = π‘“<sup>-1</sup>(π‘¦)λ¥Ό κµ¬ν•  μ μλ” ν•¨μ π‘“
- **κ³µκ°ν‚¤ μ•”νΈμ‹μ¤ν…μ κΈ°λ³Έ μ„¤κ³„μ›λ¦¬!**


#### κ³µκ°ν‚¤ μΈμ¦
- ν‚¤(key)λ” κ²°κµ­ λλ¤ν• λΉ„νΈμ—΄μΈλ°, κ·Έλ ‡λ‹¤λ©΄ κ³µκ°ν‚¤κ°€ λ„κµ¬μ κ²ƒμΈμ§€ μ–΄λ–»κ² ν™•μΈν•  μ μλ”κ°€?
  - Aκ°€ μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ¬λ Έλ”λ°, κ³µκ²©μκ°€ AμΈμ²™ μ„μ¥ν•λ©΄μ„ μμ‹ μ΄ μ•„λ” κ³µκ°ν‚¤λ¥Ό μ¬λ¦΄ μλ„ μμ. μ΄λ• μ 3μκ°€ κ³µκ²©μκ°€ μ¬λ¦° κ³µκ°ν‚¤λ¥Ό Aμ κ³µκ°ν‚¤μΈ μ¤„ μ•κ³  κ°€μ Έμ™€μ„ μ•”νΈλ¬Έμ„ λ§λ“¤λ©΄, κ³µκ²©μκ°€ μ•”νΈλ¬Έμ„ λ³µνΈν™” ν•  μ μκ² λλ” λ¬Έμ  λ°μƒ
- **κ³µκ°ν‚¤ μΈμ¦ κµ¬μ΅° (Public Key Infrastructure, PKI)**
  1. ν΄λΌμ΄μ–ΈνΈκ°€ μ²μμ— μμ‹ μ κ°μΈν‚¤μ™€ κ³µκ°ν‚¤ μμ„ μƒμ„±
  2. κ°μΈν‚¤λ” λ³ΈμΈμ κΈκ³ μ— μ•μ „ν•κ² μ €μ¥
  3. λ³ΈμΈμ„μ„ μΈμ¦ν•  μ μλ” identifierμ™€ ν•¨κ» κ³µκ°ν‚¤λ¥Ό CA(Certificate Authority)κΈ°κ΄€μ— μ „μ†΅
  4. CAκΈ°κ΄€μ—μ„ λ³ΈμΈμ΄ λ§λ”μ§€λ¥Ό ν™•μΈ (κ³µμΈμΈμ¦μ„, ν΄λ€ν° λ“±μ„ μ΄μ©), κ³µκ²©μκ°€ λ³΄λ‚Ό κ²½μ° λ³ΈμΈμΈμ¦λ‹¨κ³„λ¥Ό ν†µκ³Όν•  μ μ—†μ
  5. CAκΈ°κ΄€μ—μ„ κ³µκ°ν‚¤μ— λ€ν• μΈμ¦μ„ λ°κΈ‰
  6. κ³µκ°ν‚¤μ™€ μΈμ¦μ„κ°€ ν•¨κ» μ¬λΌμ™€ μμΌλ©΄ ν•΄λ‹Ή ν‚¤κ°€ μ§„μ§ λ³ΈμΈμ κ²ƒμ„μ„ ν™•μΈν•  μ μμ
- κ³µμΈμΈμ¦μ„ : KISA(ν•κµ­μΈν„°λ„·μ§„ν¥μ› - μ°λ¦¬λ‚λΌμ—μ„ CA μ—­ν• μ„ ν•λ” κ³³)μ—μ„ λ°ν–‰ν•λ” μΈμ¦μ„
- μ‚¬κΈ°μ—…λ“¤μ—μ„λ„ μ‚¬μ„¤ μΈμ¦μ„ λ°ν–‰


### 3-2. μν•™μ  λ°°κ²½μ§€μ‹
- κ³µκ°ν‚¤ μ•”νΈμ—μ„λ” κ³µκ°ν‚¤μ™€ κ°μΈν‚¤ μμ΄ μ΅΄μ¬
- κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• μ•”νΈλ¬Έμ„ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•΄μ„ ν‰λ¬Έμ„ μ–»μ–΄λ³Ό μ μλ” ν•νƒ
- μ„λ΅ λ‹¤λ¥΄κ² μƒκΈ΄ ν‚¤λ¥Ό μ΄μ©ν•΄μ„ μ•”νΈν™”μ™€ λ³µνΈν™”κ°€ λλ‹¤λ” κ²ƒμ€ λ‘ κ°„μ— μ–΄λ– ν• μν•™μ μΈ κ΄€κ³„κ°€ μμμ„ μλ―Έ

#### λ¨λ“ μ—°μ‚° (Modulo operation)
- κ³µκ°ν‚¤ μ•”νΈμ—μ„ κ°€μ¥ λ§μ΄ μ‚¬μ©λλ” μ—°μ‚° μ¤‘ ν•λ‚
- λ°”λμ΄ ν•λ‚λ°–μ— μ—†λ” μ‹κ³„ μ—°μ‚°μ΄λΌκ³  μƒκ° κ°€λ¥
- **λ‚λ—μ…μ„ ν•΄μ„ λ‚λ¨Έμ§€λ¥Ό κµ¬ν•λ” κ³„μ‚°**
  - 27 mod 12 = 3
  - 27μ„ 12λ΅ λ‚λ λ‚λ¨Έμ§€ = 3
  - **27 β‰΅ 3 (mod 12)** -> **27κ³Ό 3μ€ mod 12 μƒμ—μ„ β€ν•©λ™ (congruent)β€**
- modκ°€ λ™μΌν•  λ•λ§ μ‚¬μΉ™μ—°μ‚° κ°€λ¥
- **λ¨λ“ λ§μ…**
  - (7 mod 12) + (6 mod 12) = (7 + 6) mod 12 = 13 mod 12 = 1
- **λ¨λ“ λΊ„μ…**
  - λ§μ…μ μ—­μ›μ„ κ³„μ‚°ν•λ‹¤κ³  μƒκ°ν•κΈ°
  - **λ”ν•΄μ„ 0 λλ” κ°’ μ°ΎκΈ°!**
  - (7 + β) mod 12 = 0
  - β = 5 (mod 12 μ—μ„λ” 5κ°€ β€7μ μ—­ν• μ„ ν•¨)
  - 5 β‰΅ -7 (mod 12)
- **λ¨λ“ κ³±μ…**
  - κ³±μ…μ€ λ§μ…μ„ λ°λ³µν• κ²ƒ
  - (7 mod 12) * 4 = (7 * 4) mod 12 = 28 mod 12 = 4
- **λ¨λ“ λ‚λ—μ…**
  - λ¨λ“ μ—°μ‚°μ—μ„λ” μΌλ°μ μΈ λ‚λ—μ…μ„ κ³ λ ¤ν•μ§€ μ•μ
  - ν•μ§€λ§ κ³±μ…μ μ—­μ›μ€ κ³„μ‚°ν•  μ μμ
  - **κ³±μ…μ μ—­μ› : κ³±ν–μ„ λ• 1μ΄ λλ” μ**
    - ex) 7μ κ³±μ…μ μ—­μ›μ€? 1/7, κ·Έλ¬λ‚ mod 12 μƒμ—μ„λ” 1/7μ΄λΌλ” κ°’ μ΅΄μ¬ν•μ§€ μ•μ
    - (7 * β) mod 12 = 1
    - λ¨λ“  κ°’μ„ λ€μ…ν•΄μ„ κ³„μ‚°ν•΄λ΄μ•Ό ν•λ―€λ΅ κΈλ°© κ³„μ‚°ν•  μ μ—†μ
    - β = 7, 7<sup>-1</sup> mod 12 = 7
  - mod 12 μƒμ—μ„ 0~11κΉμ§€μ λ¨λ“  μκ°€ κ³±μ…μ μ—­μ›μ„ κ°€μ§κΉ?
    - 0μ μ—­μ› : (0 Γ— β) mod 12 = 1 -> μ΅΄μ¬ν•μ§€ μ•μ
    - 1μ μ—­μ› : (1 Γ— β) mod 12 = 1 -> β = 1
    - 2μ μ—­μ› : (2 Γ— β) mod 12 = 1 -> μ΅΄μ¬ν•μ§€ μ•μ
    - ...
    - **12μ™€ μ„λ΅μ†**(12μ™€ κ³µμ•½μκ°€ 1λ°–μ— μ—†λ” μ)μΈ μλ“¤λ§ κ³±μ„Ήμ μ—­μ›μ„ κ°€μ§
- **λ¨λ“ κ±°λ“­μ κ³±**
  - κ³±μ…μ„ λ°λ³µν• κ²ƒ
  - 7<sup>4</sup> mod 12 = 2401 mod 12 = 1
  - λ¨λ“ μ—°μ‚°μ€ **κ³„μ‚°μ λ„μ¤‘μ— modλ¥Ό μ·¨ν•΄λ„ κ°™μ€ κ²°κ³Ό**μ΄λ―€λ΅ μ¤‘κ°„μ¤‘κ°„μ— μ‘μ€ κ°’μ„ λ§λ“¤μ–΄κ°€λ©΄μ„ λ” νΈλ¦¬ν•κ² κ³„μ‚° κ°€λ¥
  - 7<sup>4</sup> mod 12 = (7 * 7 mod 12) * (7 * 7 mod 12) = (49 mod 12) * (49 mod 12) = 1 * 1 mod 12 = 1


#### μ΄μ‚° λ€μ λ¬Έμ  (Discrete logarithm problem)
- μΌμΆ…μ μΌλ°©ν–¥ ν•¨μ
- **λ¨λ“ μƒμ—μ„ μ κ³±κ·Όμ„ κµ¬ν•λ” λ¬Έμ **
  - 7<sup>x</sup> mod 13 = 8 -> x = ?
  - xκ°€ μ–Όλ§λ‚ ν΄μ§€ μ• μ μ—†μΌλ―€λ΅ λ¨λ“ μƒμ—μ„λ” μ‰½μ§€ μ•μ€ λ¬Έμ 
  - x = 9
- λ¨λ“ μƒμ΄ μ•„λ‹λ©΄ μ κ³±κ·Όμ„ κµ¬ν•λ” κ²ƒμ€ μ–΄λ µμ§€ μ•μ
  - 7<sup>x</sup> = 49 -> x = 2
- **λ¨λ“λ΅ μ‚¬μ©λλ” μ«μκ°€ λ§¤μ° ν¬λ©΄**
  - μ΄μ‚° λ€μ κ³„μ‚°μ΄ **λ§¤μ° μ–΄λ µκ³ **
  - **μ‹κ°„μ΄** λ€λ‹¨ν **λ§μ΄ κ±Έλ¦Ό**
  - (μ΄μ‚° λ€μλ¥Ό κµ¬ν•λ” κ³ μ† μ•κ³ λ¦¬μ¦μ΄ μ—†μ)
- μ΄λ¬ν• μ‚¬μ‹¤μ„ μ΄μ©ν•΄μ„ κ³µκ°ν‚¤ μ•”νΈ μ•κ³ λ¦¬μ¦ μ„¤κ³„  **(Diffieβ€Hellman)**


#### μ†μΈμλ¶„ν•΄ λ¬Έμ  (Integer factorization problem)
- μΌμΆ…μ μΌλ°©ν–¥ ν•¨μ
- **λ§¤μ° ν° μ •μλ¥Ό μ†μΈμλ¶„ν•΄ ν•λ” λ¬Έμ **
  - p * q = N -> N = β * β' ?
  - (p, qλ” λ§¤μ° ν° λ‘ κ°μ μ†μ μ‚¬μ©)
  - 11 * 13 = 143 -> 143 = ?
  - 58417 * 126761 = 7,404,997,337 = ?
- μ΄λ¬ν• μ–΄λ ¤μ›€μ— κΈ°λ°ν•΄μ„ κ³µκ°ν‚¤ μ•”νΈ μ•κ³ λ¦¬μ¦ μ„¤κ³„ **(RSA μ•”νΈ)**

