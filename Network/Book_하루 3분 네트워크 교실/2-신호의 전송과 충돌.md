# Chapter 02. 신호의 전송과 충돌

## 2021.03.24, 03.26 - 03.27

### 2-1. 1계층의 역할과 개요
- **1계층의 역할은 케이블(파이프)이 연결되어 있는 기기에 신호(데이터)를 전달하는 것**
  - 상대에게 데이터를 전달하는 일은 1계층의 역할
  - 전달하기 전과 전달한 후의 일을 하는 것이 2계층 이상의 역할
- 1계층이 정하는 것
  - 컴퓨터와 케이블을 연결하는 '인터페이스'
  - 보내지는 데이터인 '신호' (종류/형태 등)
  - 신호가 지나가는 '케이블' (재질/구조 등)
- **통신 매체** : 기기와 기기 사이를 연결해서 신호가 지나는 '파이프' 역할을 하는 것
  - 유선(케이블O) : 일반적인 방식, 케이블을 사용해 신호를 보냄으로써 수신처까지 데이터가 도달하는 방식
    - **동선** : 전기신호를 사용, 일반 가정이나 기업에서 주로 사용
      - **UTP(Unshielded Twist Pair cable)** : 두 개가 한 쌍인 동선 네 쌍으로 이루어져 있음, 현재 일반적으로 LAN에서 사용되는 케이블 
    - **광파이버** : 광신호를 사용
  - 무선(케이블X)
- **인터페이스** : 케이블에 신호를 보내고 받는 기계
  - 컴퓨터가 보내고 싶은 데이터를 케이블에 맞는 신호로 변환해서 케이블로 보내고, 케이블에서 보내온 신호를 컴퓨터에서 사용하는 데이터로 변환하는 기계
  - LAN의 인터페이스 : **NIC(Network Interface Card)**
    - LAN용 케이블에 접속하기 위한 것
    - 대부분의 가정용 PC에 처음부터 NIC가 부착되어 있음
    - PC에 달려 있는 인터페이스 NIC에서 송신
  - WAN의 인터페이스 : 통상적으로 PC에 NIC를 부착하지 않음
    - **DCE(Data Circuit terminating Equipment: 회선종단기기)** 라는 별도의 신호 변환기 사용
    - PC의 인터페이스에서 DCE로 신호를 보내면, DCE가 WAN의 케이블에 맞는 신호로 다시 변환

<br>
<br>

### 2-2. 신호와 충돌
- 인터페이스는 비트를 신호로, 신호를 비트로 변환하는 기기
- 신호
  - **아날로그 신호** : 연속적(파장)
  - **디지털 신호** : 비연속적(ON/OFF), 데이터 통신에서 일반적으로 디지털 신호 사용
- **통신속도** : 일반적으로 1초 동안 전해지는 비트 수로 표현, 단위는 **bps(bit per second)**
  - 신호의 형태와 전송방법에 따라 결정
  - 통신속도(bps) = 1초 동안의 신호의 횟수 X 1회 신호에서의 비트 수
- 전기신호에 발생하는 문제
  - **감쇠** : 장거리 케이블을 지나는 동안 저항에 의해 신호가 약해짐
    - 운반 도중에 약해진 신호를 본래 상태로 되돌리기 위한 '증폭' 처리 기계 필요
  - **노이즈 / 간섭** : 외적 요인에 의해 신호의 진폭이 변화함
    - 케이블에 실드 처리를 해서 노이즈 막기 가능
  - **충돌(Collision)** : 동일 케이블상에 동시에 전송된 신호가 충돌해 전하를 주고받게 됨으로써 진폭이 붕괴됨
    - 신호를 보내는 타이밍을 서로 엇갈리게 하는 방법으로 해결 가능
    - 신호가 지나는 길을 나누는 방법으로 해결 가능

<br>
<br>

### 2-3. 허브
- 케이블에 T자 분배기를 넣는 대신에, 케이블을 허브에 연결하면 케이블이 분배되는 것과 마찬가지 효과
- 허브에 케이블로 연결되어 있는 기기는 동일 케이블에 연결되어 있는 것과 같은 취급
- **포트** : 허브의 케이블 삽입구
  - 포트의 수는 제품마다 다름
  - 4개의 포트가 있는 허브라면, 4대의 기기 연결 가능
- 허브의 기능
  - (감쇠에 의해 붕괴된) **신호의 증폭과 재생 기능**
    - **리피터(Repeater)** : 증폭만 하는 기계, 허브처럼 케이블을 많이 연결할 수 없으므로 일반적으로 허브 사용
  - **복수의 기기를 연결해서 네트워크를 구축하는 기능**
    - 허브에 연결되어 있는 기기끼리 신호를 주고받을 수 있음
    - **연속 접속(cascade connection)** : 허브와 허브를 연결하는 접속, 신호가 도달하는 범위를 넓혀 네트워크 확대
- 허브는 수신한 신호에 대해 증폭과 재생 이외의 제어는 하지 않으며 플러딩을 함
  - **플러딩(flooding)** : 수신한 포트 이외의 모든 포트에 수신한 신호를 송신
- 허브에 연결되어 있는 기기가 신호를 보내면 충돌이 일어날 가능성이 있음
  - **충돌 도메인(Collision Domain)** : 신호를 송신하면 충돌이 발생할지도 모르는 범위
  - 허브로 연결되어 있는 컴퓨터는 같은 충돌 도메인에 있게 되는 것
  - 충돌 가능성을 낮추기 위해 충돌 도메인은 작아야 함 (충돌 도메인 내의 컴퓨터 수가 적어야 함)

<br>
<br>

### 2-4. 2계층의 역할과 개요
- **2계층** : 신호가 닿는 범위인 세그먼트 내에서의 데이터 송수신에 관한 규정을 생각
  - 멀티액세스 네트워크에서의 세그먼트 - 허브로 연결되어 있는 기기 전체
  - 포인트 투 포인트 네트워크에서의 세그먼트 - 서로 연결되어 있는 두 대(컴퓨터와 라우터, 라우터와 라우터 사이)
- 2계층에서는 WAN과 LAN의 규칙이 다름
  - 1계층에서 다루는 신호와 케이블 등에 따라 2계층의 규격이 달라지게 되는 것
  - 3계층 이상의 계층에서는 LAN이나 WAN이나 동일한 규칙 사용
- LAN의 2계층에서는 **'이더넷(Ethernet)'** 이 사실표준
  - **프레이밍(Framing)** : 송수신되는 비트열에 의미를 주어 데이터로 인식할 수 있게 함 (프레임화 한다)
    - 가장 먼저 **프리엠블(preamble)** 이라고 불리는 '지금부터 프레임이 시작된다는 신호'를 함
    - 수신측에서 프리엠블을 수신하면 '이제부터 프레임 신호가 오겠다'고 판단하는 것
- 비트를 읽는 타이밍이 송신측과 수신측 양쪽에서 일치해야 함
  - **동기 통신** : 데이터를 송수신하지 않는 상태에서도 클락(Clock) 신호라고 부르는 '타이밍을 맞추는 신호'를 계속해서 보내는 방법
    - 프리엠블을 사용하지 않지만, 항상 신호를 보내야는 수고가 필요해서 별로 사용되지 않음
  - **비동기 통신** : 데이터 통신 직전에 프리엠블을 보내 타이밍을 맞추는 방법
    - 패킷 교환 방식에서는 프리엠블 방식이 일반적

<br>
<br>

### 2-5. 2계층 주소와 이더넷
- **주소(Address)** : 데이터를 보내는 상대와 자신을 특정하는 데이터
- 데이터 전송 방법에 따라 3종류
  - **유니캐스트(Unicast)** : '1대 1' 데이터 통신, 가장 일반적
  - **브로드캐스트(Broadcast)** : '1대 전체', 모두(전원)에게 메시지를 보내는 데이터 통신
  - **멀티캐스트 (Multicast)** : '1대 다수', 지정된 복수의 기기(기기의 그룹)로 메시지를 보내는 데이터 통신
- **어드레싱(Addressing)** : 주소를 어떻게 사용할지 어떻게 배정할지 같은 것
- 각각의 기기는 적어도 한 개 이상의 유일한 유니캐스트 주소를 가짐
  - 라우터처럼 복수의 인터페이스를 가진 기기는 인터페이스마다 유니캐스트 주소를 가짐
- 멀티캐스트 주소는 같은 주소를 가진 기기가 여러 개 있어도 가능
  - '그룹 번호'를 취급하여, 수신처를 그룹으로 하면 그 그룹에 속한 기기가 수신
  - 멀티캐스트 그룹에 속해 있는 기기는, 유니캐스트 주소와 멀티캐스트 주소로 총 2개를 가지는 것
- 이더넷에서는 MAC 주소가 사용됨
  - **MAC 주소(Media Access Control Address)** : 인터페이스에 지정된 고정 주소
  - 48비트 값으로, 4비트마다 16진수로 고쳐서 씀 (16진수 12자리로 표기)
    - 선두 24비트 : 벤더코드, 인터페이스를 제조한 메이커의 번호
    - 후반 24비트 : 벤더 할당 코드, 제조한 메이커가 붙힌 번호

<br>
<br>
