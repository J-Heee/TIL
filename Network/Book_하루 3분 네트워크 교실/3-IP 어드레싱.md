# Chapter 03. IP 어드레싱

## 2021.03.31

### 3-1. 3계층의 역할과 개요
- **3계층** : 세그먼트 내에서가 아니라, 세그먼트 간의 데이터 송수신을 하는 것
  - 1계층과 2계층에서 사용하는 세그먼트라는 말 대신, 3계층에서는 이러한 범위를 네트워크라고 함
- **좁은 의미의 '네트워크'** : 3계층에서 사용하는 네트워크는 라우터와 라우터로 나뉘어진 **'컴퓨터 그룹'** 을 말함 (세그먼트와 동의어)
  - 세그먼트와 같으므로, 네트워크 내의 컴퓨터끼리는 2계층에 의해 연결되어 있음
  - 2계층까지의 기능만으로는 컴퓨터의 수가 많은 큰 네트워크 구성이 불가능
- **네트워크를 나누는 이유** : 브로드캐스트가 도달하는 범위를 한정해서 브로드캐스트 문제를 해결
  - 스위치로 구성된 네트워크에서는 1대가 송신한 브로드캐스트가 모든 컴퓨터에 도달
    - 컴퓨터 수가 많으면 브로드캐스트의 횟수가 증가해서, 각 컴퓨터가 브로드캐스트를 처리하는 횟수가 증가  
  - 라우터는 브로드캐스트를 중계하지 않기 때문에, 라우터를 넘어서는 브로드캐스트는 전송되지 않음 
    - 전체 대수가 많아져도 각각의 네트워크에만 브로드캐스트가 도달하기 때문에, 각 컴퓨터가 처리하는 브로드캐스트의 양은 적어질 수 있음 
- **인터넷 작업(Internetwork)** : 네트워크 간에서의 데이터 송수신을 하는 것, 간단히 인터넷(Internet)이라고도 함
  - 고유명사 '인터넷'과 다른 것(INTERNET, The internet, The Net) 
- 3계층에서는 인터넷 작업을 수행
  - 인터넷 작업에 의해 떨어진 위치에 있는 컴퓨터끼리 데이터 통신 가능
  - 2계층까지의 기능은 그 네트워크 내의 인접기기에 대한 데이터 통신
  - 3계층에서는 위치가 떨어져 있는 다른 네트워크 내의 기기와 데이터 통신

<br>
<br>

### 3-2. 인터넷 프로토콜
- **어드레싱**
  - 2계층 이더넷에서 사용되는 MAC 주소는 **'물리 주소'**
    - 위치정보가 없어서 장소를 특정할 수 없는 주소
  - 3계층에서 사용하는 주소는 **'논리 주소'**
    - 논리 주소 : 위치정보를 가지기 때문에 수신처를 찾을 수 있음
    - 위치정보 : '어디 네트워크'의 '어느 컴퓨터'라는 정보의 조합으로 실현
- **라우팅(routing)** : 수신처까지의 경로 선택을 하는 것
  - 수신처에 연결되어 있는 회선(라우터와 라우터를 연결하는 회선이므로 네트워크)에 데이터를 보내도록 지정
  - 라우팅을 행하는 기기가 라우터
- **IP(Internet Protocol)** : '어드레싱'과 '라우팅'에 의해 인터넷 작업을 수행하기 위한 프로토콜로서 TCP/IP 프로토콜군에서 사용되는 것
  - **TCP/IP에서는 IP를 반드시 사용**
- IP는 현재 두 가지 버전이 사용됨
  - IP버전4(IP version4, 줄여서 IPv4), IP버전6(IP version6, 줄여서 IPv6)
  - 현재 일반적으로 사용되고 있는 것은 구 버전인 IPv4
  - 이 두 버전 사이에는 호환성이 없음 (IPv4만 사용하는 컴퓨터는 IPv6를 사용하는 컴퓨터와 데이터 송수신 불가능)
- IP는 인터넷 작업을 수행(어드레싱, 라우팅)하기 위한 기능을 가지고 있음
- **IP 데이터그램(Datagram)** : IP 헤더와 3계층 PDU (데이터에 IP 헤더가 붙은 상태의 PDU)
  - IP 헤더 : 송신처와 수신처의 IP 주소, 라우팅에서 사용하는 값 등이 있음
  - IP 주소 : IP라는 프로토콜에서 정해진 '논리 주소', IP에서는 이 주소를 사용해 수신처와 송신처를 정함

<br>
<br>

### Reference
- [하루 3분 네트워크 교실](http://www.yes24.com/Product/Goods/30670329) - 아미노 에이지 저. 영진닷컴. 2016